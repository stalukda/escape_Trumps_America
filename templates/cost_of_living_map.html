<!DOCTYPE html>
<html>

    <head>
       <script type='text/javascript' src='https://www.google.com/jsapi'></script>
      <title> Cost of Living Index 2017</title>
    </head>

    <body>

       <h2> Cost of Living Index Throughout the World </h1>
       <div id="chart_div" class="country_gmaps_rankings"></div>

       <script type='text/javascript'>

       google.load('visualization', '1', {'packages': ['geochart']});
       google.setOnLoadCallback(drawRegionsMap);

        function drawRegionsMap() {
            var data = new google.visualization.DataTable();
            data.addColumn('string', 'Country');
            data.addColumn('number', 'Cost of Living Index(NYC=100)');
            data.addRows([

                {% for nation in nations %}
                    {% if nation.col_index %}
                        [ '{{ nation.country_name }}', {{ nation.col_index }}],
                    {% endif %}
                {% endfor %}
            ]);

        var options = {
          colorAxis: {colors: [ '#551a8b', '#17e617', '#ffff00', '#e6e617', '#ffa500', '#ff0000']}
        };

        var chart = new google.visualization.GeoChart(document.getElementById('chart_div'));
        chart.draw(data, options);
        };

        </script>
    </body>
</html>



